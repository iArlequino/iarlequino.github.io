"use strict";function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function DynamicAdapt(e){this.type=e}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),DynamicAdapt.prototype.init=function(){const e=this;this.оbjects=[],this.daClassname="_dynamic_adapt_",this.nodes=document.querySelectorAll("[data-da]");for(let e=0;e<this.nodes.length;e++){const t=this.nodes[e],o=t.dataset.da.trim().split(","),n={};n.element=t,n.parent=t.parentNode,n.destination=document.querySelector(o[0].trim()),n.breakpoint=o[1]?o[1].trim():"767",n.place=o[2]?o[2].trim():"last",n.index=this.indexInParent(n.parent,n.element),this.оbjects.push(n)}this.arraySort(this.оbjects),this.mediaQueries=Array.prototype.map.call(this.оbjects,(function(e){return"("+this.type+"-width: "+e.breakpoint+"px),"+e.breakpoint}),this),this.mediaQueries=Array.prototype.filter.call(this.mediaQueries,(function(e,t,o){return Array.prototype.indexOf.call(o,e)===t}));for(let t=0;t<this.mediaQueries.length;t++){const o=this.mediaQueries[t],n=String.prototype.split.call(o,","),i=window.matchMedia(n[0]),s=n[1],l=Array.prototype.filter.call(this.оbjects,(function(e){return e.breakpoint===s}));i.addListener((function(){e.mediaHandler(i,l)})),this.mediaHandler(i,l)}},DynamicAdapt.prototype.mediaHandler=function(e,t){if(e.matches)for(let e=0;e<t.length;e++){const o=t[e];o.index=this.indexInParent(o.parent,o.element),this.moveTo(o.place,o.element,o.destination)}else for(let e=0;e<t.length;e++){const o=t[e];o.element.classList.contains(this.daClassname)&&this.moveBack(o.parent,o.element,o.index)}},DynamicAdapt.prototype.moveTo=function(e,t,o){t.classList.add(this.daClassname),"last"===e||e>=o.children.length?o.insertAdjacentElement("beforeend",t):"first"!==e?o.children[e].insertAdjacentElement("beforebegin",t):o.insertAdjacentElement("afterbegin",t)},DynamicAdapt.prototype.moveBack=function(e,t,o){t.classList.remove(this.daClassname),void 0!==e.children[o]?e.children[o].insertAdjacentElement("beforebegin",t):e.insertAdjacentElement("beforeend",t)},DynamicAdapt.prototype.indexInParent=function(e,t){const o=Array.prototype.slice.call(e.children);return Array.prototype.indexOf.call(o,t)},DynamicAdapt.prototype.arraySort=function(e){"min"===this.type?Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint})):Array.prototype.sort.call(e,(function(e,t){return e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?1:"last"===e.place||"first"===t.place?-1:t.place-e.place:t.breakpoint-e.breakpoint}))};const da=new DynamicAdapt("max");da.init();const header__burger=document.querySelector(".header__burger"),header__menu=document.querySelector(".header__menu"),body=document.querySelector("body"),header__list=document.querySelector(".header__list"),html=document.querySelector("html"),isiPhone=null!=navigator.userAgent.match(/iPhone/i),isiPad=null!=navigator.userAgent.match(/iPad/i),isiPod=null!=navigator.userAgent.match(/iPod/i);if(isiPhone||isiPad||isiPod){console.log("IPhone");let e=document.querySelectorAll('[href^="#"]'),o=.2;for(let n=0;n<e.length;n++)e[n].addEventListener("click",(function(e){e.preventDefault();let n=window.pageYOffset,i=this.href.replace(/[^#]*(.*)/,"$1");t=document.querySelector(i).getBoundingClientRect().top,start=null,requestAnimationFrame((function e(s){null===start&&(start=s);let l=s-start,r=t<0?Math.max(n-l/o,n+t):Math.min(n+l/o,n+t);window.scrollTo(0,r),r!=n+t?requestAnimationFrame(e):location.hash=i}))}),!1)}else console.log("Это не айфон -_-");function bodyFixPosition(){setTimeout((function(){if(!document.body.hasAttribute("data-body-scroll-fix")){let e=window.pageYOffset||document.documentElement.scrollTop;document.body.setAttribute("data-body-scroll-fix",e),document.body.style.position="fixed",document.body.style.top="-"+e+"px",document.body.style.left="0",document.body.style.width="100%"}}),15)}function bodyUnfixPosition(){if(document.body.hasAttribute("data-body-scroll-fix")){let e=document.body.getAttribute("data-body-scroll-fix");document.body.removeAttribute("data-body-scroll-fix"),document.body.style.position="",document.body.style.top="",document.body.style.left="",document.body.style.width="",window.scroll(0,e)}}header__burger.onclick=function(e){isiPhone||isiPad||isiPod?(window.scrollTo(0,window.pageYOffset+1),header__burger.classList.toggle("active"),header__menu.classList.toggle("active"),body.classList.toggle("lock"),bodyFixPosition(),bodyUnfixPosition()):(header__burger.classList.toggle("active"),header__menu.classList.toggle("active"),body.classList.toggle("lock"))},(isiPhone||isiPad||isiPod)&&window.addEventListener("scroll",(function(){body.classList.contains("lock")?(window.scrollTo(0,window.pageYOffset+1),bodyFixPosition()):bodyUnfixPosition()}));const headerNav=document.querySelector(".header__wrapper");let prevScrollpos=window.pageYOffset;function navOpen(){0!=prevScrollpos?headerNav.classList.add("_active"):headerNav.classList.remove("_active")}function navScroll(){window.onscroll=function(){var e=window.pageYOffset;prevScrollpos<e||(prevScrollpos=e)?headerNav.classList.add("_active"):headerNav.classList.remove("_active"),prevScrollpos=e}}navOpen(),navScroll();const copyButtons=document.querySelectorAll(".project__copy-btn");copyButtons.forEach((function(e){e.addEventListener("click",(function(e){let t=document.createElement("input");t.value="link-to-site",document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t);let o=document.querySelector(".snackbar");o.classList.add("show-snackbar"),setTimeout((function(){o.classList.remove("show-snackbar")}),3e3)}))}));let item=document.querySelector(".statistics-item"),numberTop=item.getBoundingClientRect().top;function filterSelection(e){var t,o;for(t=document.getElementsByClassName("project"),"all"==e&&(e=""),o=0;o<t.length;o++)RemoveClass(t[o],"project--onCategory"),t[o].className.indexOf(e)>-1&&AddClass(t[o],"project--onCategory")}function AddClass(e,t){var o,n,i;for(n=e.className.split(" "),i=t.split(" "),o=0;o<i.length;o++)-1==n.indexOf(i[o])&&(e.className+=" "+i[o])}function RemoveClass(e,t){var o,n,i;for(n=e.className.split(" "),i=t.split(" "),o=0;o<i.length;o++)for(;n.indexOf(i[o])>-1;)n.splice(n.indexOf(i[o]),1);e.className=n.join(" ")}window.addEventListener("scroll",(function e(){if(window.pageYOffset>numberTop+window.innerHeight/3){this.removeEventListener("scroll",e);const t=document.querySelectorAll(".statistics-item__quantity"),o=120;t.forEach(e=>{const t=()=>{const n=+e.getAttribute("data-max"),i=+e.innerText,s=Math.round(n/o);i<n?(e.innerText=i+s,setTimeout(t,10)):e.innerText=n};t()})}})),filterSelection("all");for(var btnContainer=document.getElementById("btn-container"),btns=btnContainer.getElementsByClassName("latest-projects__btn"),i=0;i<btns.length;i++)btns[i].addEventListener("click",(function(){var e=document.getElementsByClassName("active-category");e[0].className=e[0].className.replace(" active-category",""),this.className+=" active-category"}));document.querySelectorAll(".acordion-triger").forEach(e=>e.addEventListener("click",()=>{e.parentNode.classList.toggle("acordion--active")}));let swiperHeader=new Swiper(".swiper-header",{loop:!0,centeredSlides:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},watchSlidesVisibility:!0,on:{init(){Array.from(this.slides).forEach((e,t)=>{const o=e.querySelector(".slider__wrapper");e.classList.contains("swiper-slide-visible")||(o.style.display="none")})},setTranslate(){Array.from(this.slides).forEach(e=>{e.classList.contains("swiper-slide-visible")&&(e.querySelector(".slider__wrapper").style.display="")})},transitionEnd(){Array.from(this.slides).forEach(e=>{e.classList.contains("swiper-slide-visible")||(e.querySelector(".slider__wrapper").style.display="none")})}}}),swiperPosts=new Swiper(".swiper-posts",{slidesPerView:3,updateOnWindowResize:!0,spaceBetween:30,watchOverflow:!0,watchSlidesVisibility:!0,navigation:{nextEl:".swiper-post-button-next",prevEl:".swiper-post-button-prev"},observer:!0,observeParents:!0,observeSlideChildren:!0,breakpoints:{300:{slidesPerView:1,spaceBetween:8},700:{slidesPerView:2,spaceBetween:20},992:{slidesPerView:3,spaceBetween:30}},on:{init(){Array.from(this.slides).forEach((e,t)=>{const o=e.querySelector(".swiper-slide__wrapper");e.classList.contains("swiper-slide-visible")||(o.style.display="none")})},setTranslate(){Array.from(this.slides).forEach(e=>{e.classList.contains("swiper-slide-visible")&&(e.querySelector(".swiper-slide__wrapper").style.display="")})},transitionEnd(){Array.from(this.slides).forEach(e=>{e.classList.contains("swiper-slide-visible")||(e.querySelector(".swiper-slide__wrapper").style.display="none")})}}});const slider=swiperPosts,wrapper=swiperPosts.wrapperEl;let swiperPostsInterior1=new Swiper(".posts-image-slider",{loop:!0,observer:!0,observeParents:!0,observeSlideChildren:!0,updateOnWindowResize:!0,watchOverflow:!0,slidesPerView:1,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0}});document.querySelector(".posts-image-slider").addEventListener("mouseenter",()=>{swiperPostsInterior1.autoplay.stop()}),document.querySelector(".posts-image-slider").addEventListener("mouseleave",()=>{swiperPostsInterior1.autoplay.start()});let swiperPostsInterior2=new Swiper(".posts-image-slider2",{loop:!0,observer:!0,observeParents:!0,observeSlideChildren:!0,updateOnWindowResize:!0,watchOverflow:!0,slidesPerView:1,autoplay:{delay:2500,disableOnInteraction:!1},pagination:{el:".swiper-pagination",clickable:!0},watchOverflow:!0});document.querySelector(".posts-image-slider2").addEventListener("mouseenter",()=>{swiperPostsInterior2.autoplay.stop()}),document.querySelector(".posts-image-slider2").addEventListener("mouseleave",()=>{swiperPostsInterior2.autoplay.start()});const popupLinks=document.querySelectorAll(".popup-link"),lockPadding=document.querySelectorAll(".lock-padding");let bodyLockBoolean,unlock=!0;const timeout=700;if(console.log("Верстка - Чёрный"),console.log("Fix2"),popupLinks.length>0)for(let e=0;e<popupLinks.length;e++){const t=popupLinks[e];t.addEventListener("click",(function(e){const o=t.getAttribute("href").replace("#","");popupOpen(document.getElementById(o)),e.preventDefault()}))}const popupCloseIcon=document.querySelectorAll(".close-popup");if(popupCloseIcon.length>0)for(let e=0;e<popupCloseIcon.length;e++){const t=popupCloseIcon[e];t.addEventListener("click",(function(e){popupClose(t.closest(".popup")),e.preventDefault()}))}function popupOpen(e){if(e&&unlock){const t=document.querySelector(".popup.open");t?popupClose(t,!1):bodyLock(),e.classList.add("open"),e.addEventListener("mousedown",(function(e){e.target.closest(".popup__content")||popupClose(e.target.closest(".popup"))}))}}function popupClose(e,t=!0){unlock&&(e.classList.remove("open"),t&&bodyUnlock())}function bodyLock(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";if(lockPadding.length>0)for(let t=0;t<lockPadding.length;t++){lockPadding[t].style.paddingRight=e}body.style.paddingRight=e,body.classList.contains("lock")?(bodyLockBoolean=!0,console.log(`При открытии у bodyLockBoolean было значение: ${bodyLockBoolean}, по этому класс lock у body не добаляли.`)):body.classList.contains("lock")||(bodyLockBoolean=!1,console.log(`При открытии у bodyLockBoolean было значение: ${bodyLockBoolean}, по этому класс lock был добавлен в body.`),body.classList.add("lock")),unlock=!1,setTimeout((function(){unlock=!0}),700)}function bodyUnlock(){setTimeout((function(){if(lockPadding.length>0)for(let e=0;e<lockPadding.length;e++){lockPadding[e].style.paddingRight="0px"}body.style.paddingRight="0px",0==bodyLockBoolean?(console.log(`При закрытии у bodyLockBoolean было значение: ${bodyLockBoolean}, по этому мы убрали класс lock c body.`),body.classList.remove("lock")):console.log(`При закрытии у bodyLockBoolean было значение: ${bodyLockBoolean}, по этому класс lock с body не убирался.`)}),700),unlock=!1,setTimeout(()=>{unlock=!0},700)}document.addEventListener("keydown",(function(e){if(27===e.which){popupClose(document.querySelector(".popup.open"))}})),Element.prototype.closest||(Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);
//# sourceMappingURL=script.min.js.map
