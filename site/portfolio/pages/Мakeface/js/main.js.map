{"version":3,"sources":["main.js"],"names":["popupLinks","document","querySelectorAll","lockPadding","body","querySelector","unlock","timeout","popupCloseIcon","currentCloseBtn","previousActiveElement","includeTitle","e","headingContent","target","closest","textContent","length","index","popupLink","addEventListener","popupName","getAttribute","replace","popupOpen","getElementById","setTimeout","forEach","el","focus","preventDefault","popupClose","curentPopup","activeElement","popupActive","bodyLock","classList","add","doUnlock","remove","bodyUnlock","lockPaddingValue","window","innerWidth","offsetWidth","style","paddingRight","which","Element","prototype","css","node","this","matches","parentElement","matchesSelector","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","AOS","init","disable","navigator","userAgent","indexOf","flex","wrapper","headerBurger","headerMenu","headerLink","md2","matchMedia","burgerToggle","toggle","isiPhone","match","isiPad","isiPod","linkNav","V","i","w","pageYOffset","hash","href","t","getBoundingClientRect","top","start","requestAnimationFrame","step","time","progress","r","Math","max","min","scrollTo","location","header","prevScrollpos","navOpen","navScroll","onscroll","currentScrollPos","item","parentNode","contains","setAttribute","scrollDistance","scrollY","offsetTop","clientHeight","snackbarBtn","snackbar","snackbarShow","text","type","delay","innerHTML","disabled","removeAttribute","className","ValidMail","myMail","value","valid","test","ValidPhone","myPhone","self","currentTarget","formData","FormData","name","mail","tel","append","xhr","XMLHttpRequest","onreadystatechange","readyState","status","console","log","open","send","reset"],"mappings":"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","file":"main.js","sourcesContent":["// Includes\nconst popupLinks = document.querySelectorAll('.popup-link');\r\nconst lockPadding = document.querySelectorAll('.lock-padding');\r\nconst body = document.querySelector('body')\r\nlet unlock = true;\r\nconst timeout = 800;\r\nconst popupCloseIcon = document.querySelectorAll('.close-popup');\r\nlet currentCloseBtn;\r\n\r\nfunction includeTitle(e) {\r\n\tlet headingContent;\r\n\theadingContent = e.target.closest('.t-item').querySelector('.t-item__heading').textContent;\r\n\tdocument.querySelector('.popup__title').textContent = headingContent;\r\n}\r\n\r\nif (popupLinks.length > 0) {\r\n\tfor (let index = 0; index < popupLinks.length; index++) {\r\n\t\tconst popupLink = popupLinks[index];\r\n\t\tpopupLink.addEventListener(\"click\", function (e) {\r\n\t\t\tconst popupName = popupLink.getAttribute('href').replace('#', '');\r\n\t\t\tconst curentPopup = document.getElementById(popupName);\r\n\t\t\tpopupOpen(curentPopup);\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tpopupCloseIcon.forEach((el) => {\r\n\t\t\t\t\tel.focus()\r\n\t\t\t\t})\r\n\t\t\t}, 100)\r\n\t\t\tincludeTitle(e)\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\t}\r\n}\r\n\r\nif (popupCloseIcon.length > 0) {\r\n\tfor (let index = 0; index < popupCloseIcon.length; index++) {\r\n\t\tconst el = popupCloseIcon[index];\r\n\t\tcurrentCloseBtn = el;\r\n\t\tel.addEventListener('click', function (e) {\r\n\t\t\tpopupClose(el.closest('.popup'));\r\n\t\t\te.preventDefault();\r\n\t\t});\r\n\t}\r\n}\r\nlet previousActiveElement;\r\nfunction popupOpen(curentPopup) {\r\n\tif (curentPopup && unlock) {\r\n\t\tpreviousActiveElement = document.activeElement;\r\n\t\tconst popupActive = document.querySelector('.popup.open');\r\n\t\tif (popupActive) {\r\n\t\t\tpopupClose(popupActive, false);\r\n\t\t}\r\n\t\telse {\r\n\t\t\tbodyLock();\r\n\t\t}\r\n\t\tcurentPopup.classList.add('open');\r\n\t\tcurentPopup.addEventListener(\"mousedown\", function (e) {\r\n\t\t\tif (!e.target.closest('.popup__content')) {\r\n\t\t\t\tpopupClose(e.target.closest('.popup'));\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\nfunction popupClose(popupActive, doUnlock = true) {\r\n\tif (unlock) {\r\n\t\tpopupActive.classList.remove('open');\r\n\t\tif (doUnlock) {\r\n\t\t\tbodyUnlock();\r\n\t\t}\r\n\t}\r\n\tpreviousActiveElement.focus();\r\n}\r\n\r\nfunction bodyLock() {\r\n\tconst lockPaddingValue = window.innerWidth - document.querySelector('.wrapper').offsetWidth + 'px';\r\n\r\n\tif (lockPadding.length > 0) {\r\n\t\tfor (let index = 0; index < lockPadding.length; index++) {\r\n\t\t\tconst el = lockPadding[index];\r\n\t\t\tel.style.paddingRight = lockPaddingValue;\r\n\t\t}\r\n\t}\r\n\r\n\tbody.style.paddingRight = lockPaddingValue;\r\n\tbody.classList.add('lock');\r\n\r\n\tunlock = false;\r\n\tsetTimeout(function () {\r\n\t\tunlock = true;\r\n\t}, timeout);\r\n}\r\nfunction bodyUnlock() {\r\n\tsetTimeout(function () {\r\n\t\tif (lockPadding.length > 0) {\r\n\t\t\tfor (let index = 0; index < lockPadding.length; index++) {\r\n\t\t\t\tconst el = lockPadding[index];\r\n\t\t\t\tel.style.paddingRight = '0px';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tbody.style.paddingRight = '0px';\r\n\t\tbody.classList.remove('lock');\r\n\t}, timeout);\r\n}\r\n\r\ndocument.addEventListener('keydown', function (e) {\r\n\tif (e.which === 27) {\r\n\t\tconst popupActive = document.querySelector('.popup.open');\r\n\t\tpopupClose(popupActive);\r\n\t}\r\n});\r\n(function () {\r\n\tif (!Element.prototype.closest) {\r\n\t\tElement.prototype.closest = function (css) {\r\n\t\t\tvar node = this;\r\n\t\t\twhile (node) {\r\n\t\t\t\tif (node.matches(css)) return node;\r\n\t\t\t\telse node = node.parentElement;\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t};\r\n\t}\r\n})();\r\n(function () {\r\n\tif (!Element.prototype.matches) {\r\n\t\tElement.prototype.matches = Element.prototype.matchesSelector ||\r\n\t\t\tElement.prototype.webkitMatchesSelector ||\r\n\t\t\tElement.prototype.mozMatchesSelector ||\r\n\t\t\tElement.prototype.msMatchesSelector;\r\n\t}\r\n})();;\n// -- //\n\n// Animate on Scroll\nAOS.init({\n\tdisable: 'mobile'\n});\n// -- //\nif (navigator.userAgent.indexOf(\"Edge\") > -1) {\n\tconst promoSec = document.querySelector('.promo__container');\n\tpromoSec.style.flex = '0 0 auto';\n}\n\n// Burger Menu\nconst wrapper = document.querySelector('.wrapper')\nconst headerBurger = document.querySelector('.header__burger');\nconst headerMenu = document.querySelector('.header__menu');\nconst headerLink = document.querySelectorAll('.header__link');\nconst md2 = window.matchMedia(\"(max-width: 767px)\");\n\nfunction burgerToggle() {\n\theaderBurger.classList.toggle('active');\n\theaderMenu.classList.toggle('active');\n\tbody.classList.toggle('lock');\n}\nheaderBurger.addEventListener('click', () => {\n\tburgerToggle()\n})\nif (md2.matches) {\n\theaderLink.forEach((el) => {\n\t\tel.addEventListener('click', () => {\n\t\t\tsetTimeout(() => {\n\t\t\t\tburgerToggle()\n\t\t\t}, 300)\n\t\t})\n\t})\n}\n\n\n// -- //\n\n// Scroll to link\nconst isiPhone = (navigator.userAgent.match(/iPhone/i) != null);\nconst isiPad = (navigator.userAgent.match(/iPad/i) != null);\nconst isiPod = (navigator.userAgent.match(/iPod/i) != null);\n\nif (isiPhone || isiPad || isiPod || navigator.userAgent.indexOf(\"Edge\") > -1) {\n\tlet linkNav = document.querySelectorAll('[href^=\"#\"]'), //выбираем все ссылки к якорю на странице\n\t\tV = 0.2;  // скорость, может иметь дробное значение через точку (чем меньше значение - тем больше скорость)\n\tfor (let i = 0; i < linkNav.length; i++) {\n\t\tlinkNav[i].addEventListener('click', function (e) { //по клику на ссылку\n\t\t\te.preventDefault(); //отменяем стандартное поведение\n\t\t\tlet w = window.pageYOffset,  // производим прокрутка прокрутка\n\t\t\t\thash = this.href.replace(/[^#]*(.*)/, '$1');  // к id элемента, к которому нужно перейти\n\t\t\tt = document.querySelector(hash).getBoundingClientRect().top,  // отступ от окна браузера до id\n\t\t\t\tstart = null;\n\t\t\trequestAnimationFrame(step);  // подробнее про функцию анимации [developer.mozilla.org]\n\t\t\tfunction step(time) {\n\t\t\t\tif (start === null) start = time;\n\t\t\t\tlet progress = time - start,\n\t\t\t\t\tr = (t < 0 ? Math.max(w - progress / V, w + t) : Math.min(w + progress / V, w + t));\n\t\t\t\twindow.scrollTo(0, r);\n\t\t\t\tif (r != w + t) {\n\t\t\t\t\trequestAnimationFrame(step)\n\t\t\t\t} else {\n\t\t\t\t\tlocation.hash = hash  // URL с хэшем\n\t\t\t\t}\n\t\t\t}\n\t\t}, false);\n\t}\n}\n// -- //\n\n\n// Active header on scroll\nconst header = document.querySelector(\".header\");\nlet prevScrollpos = window.pageYOffset;\n\nfunction navOpen() {\n\tif (prevScrollpos != 0) {\n\t\theader.classList.add('header--active');\n\t\theaderMenu.classList.add('menu--onscroll');\n\t} else {\n\t\theader.classList.remove('header--active');\n\t\theaderMenu.classList.remove('menu--onscroll');\n\t}\n}\nfunction navScroll() {\n\twindow.onscroll = function () {\n\t\tlet currentScrollPos = window.pageYOffset;\n\t\tif (prevScrollpos < currentScrollPos) {\n\t\t\theader.classList.add('header--active');\n\t\t\theaderMenu.classList.add('menu--onscroll');\n\t\t} else if (prevScrollpos = currentScrollPos) {\n\t\t\theader.classList.add('header--active');\n\t\t\theaderMenu.classList.add('menu--onscroll');\n\t\t} else {\n\t\t\theader.classList.remove('header--active');\n\t\t\theaderMenu.classList.remove('menu--onscroll');\n\t\t}\n\t\tprevScrollpos = currentScrollPos;\n\t}\n}\nnavOpen()\nnavScroll()\n// -- //\n\n// Accordion\ndocument.querySelectorAll('.acordion-triger').forEach((item) =>\n\titem.addEventListener('click', () => {\n\t\titem.parentNode.classList.toggle('acordion--active');\n\t\tif (item.parentNode.classList.contains('acordion--active')) {\n\t\t\titem.parentNode.querySelector('.acordion-triger').setAttribute('aria-expanded', true)\n\t\t\titem.parentNode.querySelector('.acordion__body').setAttribute('aria-hidden', false)\n\t\t} else {\n\t\t\titem.parentNode.querySelector('.acordion-triger').setAttribute('aria-expanded', false)\n\t\t\titem.parentNode.querySelector('.acordion__body').setAttribute('aria-hidden', true)\n\t\t}\n\t})\n)\n// -- //\n\n// active class of menu items onscroll\nwindow.addEventListener('scroll', () => {\n\tlet scrollDistance = window.scrollY;\n\n\tif (window.innerWidth > 768) {\n\t\tdocument.querySelectorAll('.section').forEach((el, i) => {\n\t\t\tif (el.offsetTop - document.querySelector('.header').clientHeight <= scrollDistance) {\n\t\t\t\tdocument.querySelectorAll('.header__list a').forEach((el) => {\n\t\t\t\t\tif (el.classList.contains('active')) {\n\t\t\t\t\t\tel.classList.remove('active');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tdocument.querySelectorAll('.header__list li')[i].querySelector('a').classList.add('active');\n\t\t\t}\n\t\t});\n\t}\n});\n// -- //\n\n\n// Snackbar\nconst snackbarBtn = document.querySelector('.snackbar-btn');\nconst snackbar = document.querySelector(\".snackbar\");\nfunction snackbarShow(text, type, time, delay) {\n\tsnackbar.innerHTML = `${text}`;\n\tsnackbarBtn.disabled = true;\n\tif (time == null) {\n\t\ttime = 3000;\n\t} else if (time == 'auto') {\n\t\ttime = 3000;\n\t}\n\tif (delay == null) {\n\t\tdelay = 0;\n\t}\n\tsetTimeout(() => {\n\n\t\tif (type == 0) {\n\t\t\tsnackbar.removeAttribute('hidden')\n\t\t\tsnackbar.classList.add('show-notification');\n\t\t\tsetTimeout(function () {\n\t\t\t\tsnackbar.className = snackbar.className.replace(\"show-notification\", \"\");\n\t\t\t\tsnackbar.setAttribute('hidden', 'hidden')\n\t\t\t}, time);\n\t\t} else if (type == 1) {\n\t\t\tsnackbar.removeAttribute('hidden')\n\t\t\tsnackbar.classList.add('show-attention');\n\t\t\tsetTimeout(function () {\n\n\t\t\t\tsnackbar.className = snackbar.className.replace(\"show-attention\", \"\");\n\t\t\t\tsnackbar.setAttribute('hidden', 'hidden')\n\t\t\t}, time);\n\t\t}\n\t\tsetTimeout(() => {\n\t\t\tsnackbarBtn.disabled = false;\n\t\t}, time)\n\t}, delay)\n}\n// -- //\n\n// Validate\nfunction ValidMail() {\n\tlet re = /^[\\w-\\.]+@[\\w-]+\\.[a-z]{2,4}$/i;\n\tlet myMail = document.querySelector('.form__input--mail').value;\n\tlet valid = re.test(myMail);\n\tif (!valid) {\n\t\tsnackbarShow('E-mail введен неверно! Проверьте ваши данные!', 1)\n\t}\n\n\treturn valid;\n}\n\nfunction ValidPhone() {\n\tlet re = /^\\d[\\d\\(\\)\\ -]{7,14}\\d$/;\n\tlet myPhone = document.querySelector('.form__input--tel').value;\n\tlet valid = re.test(myPhone);\n\tif (!valid) {\n\t\tsnackbarShow('Номер телефона введен неверно! Проверьте ваши данные!', 1)\n\t}\n\treturn valid;\n}\n// -- //\n\n// Fomr PHPMail\ndocument.querySelector('.form').addEventListener('submit', (e) => {\n\te.preventDefault();\n\tlet self = e.currentTarget;\n\n\tlet formData = new FormData(self);\n\tlet name = self.querySelector('[name=\"Имя\"]').value;\n\tlet mail = self.querySelector('[name=\"E-mail\"]').value;\n\tlet tel = self.querySelector('[name=\"Номер телефона\"]').value;\n\n\tformData.append('Имя', name);\n\tformData.append('Номер телефона', tel);\n\tformData.append('E-mail', mail);\n\n\tlet xhr = new XMLHttpRequest();\n\n\txhr.onreadystatechange = function () {\n\t\tif (xhr.readyState === 4) {\n\t\t\tif (xhr.status === 200) {\n\t\t\t\tconsole.log('Отправлено');\n\t\t\t\tsnackbarShow('Покупка оформленна! В скором времени я с вами свяжусь!', 0, 'auto', 1000)\n\t\t\t\tpopupClose(currentCloseBtn.closest('.popup'));\n\t\t\t\tpreviousActiveElement.focus();\n\t\t\t} else {\n\t\t\t\tsnackbarShow('Вы все сделали правильно! Извините, отправка заявок недоступна!', 1, 'auto', 1000)\n\t\t\t\tpopupClose(currentCloseBtn.closest('.popup'));\n\t\t\t\tpreviousActiveElement.focus();\n\t\t\t}\n\t\t}\n\t}\n\n\txhr.open('POST', '/resources/mail.php', true);\n\tif (ValidPhone() && ValidMail()) {\n\t\txhr.send(formData);\n\t\tself.reset();\n\t} else if (ValidMail() == false) {\n\t\tdocument.querySelector('.form__input--mail').focus();\n\t} else if (ValidPhone() == false) {\n\t\tdocument.querySelector('.form__input--tel').focus();\n\t}\n});\n// -- //"]}