{"version":3,"sources":["main.js"],"names":["DynamicAdapt","type","this","prototype","init","_this","оbjects","daClassname","nodes","document","querySelectorAll","i","length","node","dataArray","dataset","da","trim","split","оbject","element","parent","parentNode","destination","querySelector","breakpoint","place","index","indexInParent","push","arraySort","mediaQueries","Array","map","call","item","filter","self","indexOf","media","mediaSplit","String","matchMedia","window","mediaBreakpoint","оbjectsFilter","addListener","mediaHandler","matches","moveTo","classList","contains","moveBack","add","children","insertAdjacentElement","remove","undefined","array","slice","arr","sort","a","b","productsBtn","cartProductsList","cart","cartQuantity","cartQuantityWord","fullPrice","price","priceWithoutSpaces","str","replace","normalPrice","plusFullPrice","currentPrice","minusFullPrice","printQuantity","productsListLength","textContent","printFullPrice","generateCartProduct","img","title","id","deleteProducts","productParent","console","log","disabled","parseInt","updateStorage","forEach","el","addEventListener","e","currentTarget","closest","getAttribute","priceString","priceNumber","insertAdjacentHTML","cartSnackbar","getElementById","className","setTimeout","target","countSum","initialState","localStorage","getItem","innerHTML","html","setItem","removeItem","navBurger","navMenu","body","navCart","menuClose","mediaQuery","burgerToggle","toggle","cartCloseFieldBtn","cartContent","cartOpen","isiPhone","navigator","userAgent","match","isiPad","isiPod","linkNav","V","preventDefault","w","pageYOffset","hash","href","t","getBoundingClientRect","top","start","requestAnimationFrame","step","time","progress","r","Math","max","min","scrollTo","location","nav","menuWrapper","cartWrapper","prevScrollpos","navOpen","navScroll","onscroll","currentScrollPos"],"mappings":"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","file":"main.js","sourcesContent":["// Dynamic Adapt v.1\n// HTML data-da=\"where(uniq class name),when(breakpoint),position(digi)\"\n// e.x. data-da=\".item,992,2\"\n\nfunction DynamicAdapt(type) {\n\tthis.type = type;\n}\n\nDynamicAdapt.prototype.init = function () {\n\tconst _this = this;\n\t// массив объектов\n\tthis.оbjects = [];\n\tthis.daClassname = \"_dynamic_adapt_\";\n\t// массив DOM-элементов\n\tthis.nodes = document.querySelectorAll(\"[data-da]\");\n\n\t// наполнение оbjects объктами\n\tfor (let i = 0; i < this.nodes.length; i++) {\n\t\tconst node = this.nodes[i];\n\t\tconst data = node.dataset.da.trim();\n\t\tconst dataArray = data.split(\",\");\n\t\tconst оbject = {};\n\t\tоbject.element = node;\n\t\tоbject.parent = node.parentNode;\n\t\tоbject.destination = document.querySelector(dataArray[0].trim());\n\t\tоbject.breakpoint = dataArray[1] ? dataArray[1].trim() : \"767\";\n\t\tоbject.place = dataArray[2] ? dataArray[2].trim() : \"last\";\n\t\tоbject.index = this.indexInParent(оbject.parent, оbject.element);\n\t\tthis.оbjects.push(оbject);\n\t}\n\n\tthis.arraySort(this.оbjects);\n\n\t// массив уникальных медиа-запросов\n\tthis.mediaQueries = Array.prototype.map.call(this.оbjects, function (item) {\n\t\treturn '(' + this.type + \"-width: \" + item.breakpoint + \"px),\" + item.breakpoint;\n\t}, this);\n\tthis.mediaQueries = Array.prototype.filter.call(this.mediaQueries, function (item, index, self) {\n\t\treturn Array.prototype.indexOf.call(self, item) === index;\n\t});\n\n\t// навешивание слушателя на медиа-запрос\n\t// и вызов обработчика при первом запуске\n\tfor (let i = 0; i < this.mediaQueries.length; i++) {\n\t\tconst media = this.mediaQueries[i];\n\t\tconst mediaSplit = String.prototype.split.call(media, ',');\n\t\tconst matchMedia = window.matchMedia(mediaSplit[0]);\n\t\tconst mediaBreakpoint = mediaSplit[1];\n\n\t\t// массив объектов с подходящим брейкпоинтом\n\t\tconst оbjectsFilter = Array.prototype.filter.call(this.оbjects, function (item) {\n\t\t\treturn item.breakpoint === mediaBreakpoint;\n\t\t});\n\t\tmatchMedia.addListener(function () {\n\t\t\t_this.mediaHandler(matchMedia, оbjectsFilter);\n\t\t});\n\t\tthis.mediaHandler(matchMedia, оbjectsFilter);\n\t}\n};\n\nDynamicAdapt.prototype.mediaHandler = function (matchMedia, оbjects) {\n\tif (matchMedia.matches) {\n\t\tfor (let i = 0; i < оbjects.length; i++) {\n\t\t\tconst оbject = оbjects[i];\n\t\t\tоbject.index = this.indexInParent(оbject.parent, оbject.element);\n\t\t\tthis.moveTo(оbject.place, оbject.element, оbject.destination);\n\t\t}\n\t} else {\n\t\tfor (let i = 0; i < оbjects.length; i++) {\n\t\t\tconst оbject = оbjects[i];\n\t\t\tif (оbject.element.classList.contains(this.daClassname)) {\n\t\t\t\tthis.moveBack(оbject.parent, оbject.element, оbject.index);\n\t\t\t}\n\t\t}\n\t}\n};\n\n// Функция перемещения\nDynamicAdapt.prototype.moveTo = function (place, element, destination) {\n\telement.classList.add(this.daClassname);\n\tif (place === 'last' || place >= destination.children.length) {\n\t\tdestination.insertAdjacentElement('beforeend', element);\n\t\treturn;\n\t}\n\tif (place === 'first') {\n\t\tdestination.insertAdjacentElement('afterbegin', element);\n\t\treturn;\n\t}\n\tdestination.children[place].insertAdjacentElement('beforebegin', element);\n}\n\n// Функция возврата\nDynamicAdapt.prototype.moveBack = function (parent, element, index) {\n\telement.classList.remove(this.daClassname);\n\tif (parent.children[index] !== undefined) {\n\t\tparent.children[index].insertAdjacentElement('beforebegin', element);\n\t} else {\n\t\tparent.insertAdjacentElement('beforeend', element);\n\t}\n}\n\n// Функция получения индекса внутри родителя\nDynamicAdapt.prototype.indexInParent = function (parent, element) {\n\tconst array = Array.prototype.slice.call(parent.children);\n\treturn Array.prototype.indexOf.call(array, element);\n};\n\n// Функция сортировки массива по breakpoint и place \n// по возрастанию для this.type = min\n// по убыванию для this.type = max\nDynamicAdapt.prototype.arraySort = function (arr) {\n\tif (this.type === \"min\") {\n\t\tArray.prototype.sort.call(arr, function (a, b) {\n\t\t\tif (a.breakpoint === b.breakpoint) {\n\t\t\t\tif (a.place === b.place) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\tif (a.place === \"first\" || b.place === \"last\") {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\n\t\t\t\tif (a.place === \"last\" || b.place === \"first\") {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\n\t\t\t\treturn a.place - b.place;\n\t\t\t}\n\n\t\t\treturn a.breakpoint - b.breakpoint;\n\t\t});\n\t} else {\n\t\tArray.prototype.sort.call(arr, function (a, b) {\n\t\t\tif (a.breakpoint === b.breakpoint) {\n\t\t\t\tif (a.place === b.place) {\n\t\t\t\t\treturn 0;\n\t\t\t\t}\n\n\t\t\t\tif (a.place === \"first\" || b.place === \"last\") {\n\t\t\t\t\treturn 1;\n\t\t\t\t}\n\n\t\t\t\tif (a.place === \"last\" || b.place === \"first\") {\n\t\t\t\t\treturn -1;\n\t\t\t\t}\n\n\t\t\t\treturn b.place - a.place;\n\t\t\t}\n\n\t\t\treturn b.breakpoint - a.breakpoint;\n\t\t});\n\t\treturn;\n\t}\n};\n\nconst da = new DynamicAdapt(\"max\");\nda.init();;\nconst productsBtn = document.querySelectorAll('.product__btn');\r\nconst cartProductsList = document.querySelector('.cart__list');\r\nconst cart = document.querySelector('.cart__wrapper');\r\nconst cartQuantity = cart.querySelector('.cart__quantity-numb');\r\nconst cartQuantityWord = cart.querySelector('.cart__word');\r\nconst fullPrice = document.querySelector('.sum');\r\nlet price = 0;\r\n\r\n\r\nconst priceWithoutSpaces = (str) => {\r\n\treturn str.replace(/\\s/g, '');\r\n};\r\n\r\nconst normalPrice = (str) => {\r\n\treturn String(str).replace(/(\\d)(?=(\\d\\d\\d)+([^\\d]|$))/g, '$1 ');\r\n};\r\n\r\nconst plusFullPrice = (currentPrice) => {\r\n\treturn price += currentPrice;\r\n};\r\n\r\nconst minusFullPrice = (currentPrice) => {\r\n\treturn price -= currentPrice;\r\n};\r\n\r\nconst printQuantity = () => {\r\n\tlet productsListLength = cartProductsList.children.length; // удалил симпл бар контент блок, добавил просто список\r\n\tcartQuantity.textContent = productsListLength;\r\n\tif (productsListLength == 0) {\r\n\t\tcartQuantityWord.textContent = ` товара`;\r\n\t\tcartQuantity.textContent = 'нет';\r\n\t} else if (productsListLength == 1) {\r\n\t\tcartQuantityWord.textContent = ` товар`;\r\n\t} else if (productsListLength < 5 && productsListLength > 1) {\r\n\t\tcartQuantityWord.textContent = ` товара`;\r\n\t} else if (productsListLength >= 5) {\r\n\t\tcartQuantityWord.textContent = ` товаров`;\r\n\t}\r\n\r\n};\r\nconst printFullPrice = () => {\r\n\tfullPrice.textContent = `${normalPrice(price)} ₴`;\r\n};\r\n\r\nconst generateCartProduct = (img, title, price, id) => {\r\n\treturn `\r\n\t\t<li class=\"cart__item\">\r\n\t\t\t<article class=\"c-item\" data-id=\"${id}\">\r\n\t\t\t\t<img src=\"${img}\" alt=\"${title}\" class=\"c-item__image\">\r\n\t\t\t\t<div href=\"item.html\" class=\"c-item__link\">\r\n\t\t\t\t\t<h4 class=\"c-item__title\">${title}</h4>\r\n\t\t\t\t\t<span class=\"c-item__price\">${normalPrice(price)}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<button class=\"c-item__delete\" aria-label=\"Удалить товар\">\r\n\t\t\t\t×\r\n\t\t\t\t</button>\r\n\t\t\t</article>\r\n\t\t</li>\r\n\t`;\r\n};\r\n\r\nconst deleteProducts = (productParent) => {\r\n\tlet id = productParent.querySelector('.c-item').dataset.id;\r\n\tif (document.querySelector(`.product__item[data-id=\"${id}\"]`)) {\r\n\t\tconsole.log('Товар удален с localStorage')\r\n\t\tdocument.querySelector(`.product__item[data-id=\"${id}\"]`).querySelector('.product__btn').disabled = false;\r\n\t}\r\n\tlet currentPrice = parseInt(priceWithoutSpaces(productParent.querySelector('.c-item__price').textContent));\r\n\tminusFullPrice(currentPrice);\r\n\tprintFullPrice();\r\n\tproductParent.remove();\r\n\tprintQuantity();\r\n\tupdateStorage()\r\n};\r\n\r\nproductsBtn.forEach(el => {\r\n\t// el.closest('.product__item').setAttribute('data-id', randomId());\r\n\tel.addEventListener('click', (e) => {\r\n\t\tlet self = e.currentTarget;\r\n\t\tlet parent = self.closest('.product__item');\r\n\t\tlet id = parent.dataset.id;\r\n\t\tif (cartProductsList.querySelectorAll(`.c-item[data-id=\"${id}\"]`).length == 0) {\r\n\t\t\tlet img = parent.querySelector('.product__image--first').getAttribute('src');\r\n\t\t\tlet title = parent.querySelector('.product__name').textContent;\r\n\t\t\tlet priceString = priceWithoutSpaces(parent.querySelector('.product__price').textContent);\r\n\t\t\tlet priceNumber = parseInt(priceWithoutSpaces(parent.querySelector('.product__price').textContent));\r\n\t\t\tplusFullPrice(priceNumber);\r\n\t\t\tprintFullPrice();\r\n\t\t\tcartProductsList.insertAdjacentHTML('afterbegin', generateCartProduct(img, title, priceString, id));\r\n\t\t\tprintQuantity();\r\n\t\t\tupdateStorage()\r\n\t\t\tself.disabled = true;\r\n\t\t} else {\r\n\t\t\tconsole.log('Alredy exist')\r\n\t\t\t// Получить снэк-бар DIV\r\n\t\t\tlet cartSnackbar = document.getElementById(\"snackbar-cart\");\r\n\t\t\t// Добавить \"show\" класс для DIV\r\n\t\t\tcartSnackbar.className = \"show\";\r\n\t\t\t// После 3 секунд, извлеките класс show из DIV\r\n\t\t\tsetTimeout(function () { cartSnackbar.className = cartSnackbar.className.replace(\"show\", \"\"); }, 3000);\r\n\t\t}\r\n\t});\r\n});\r\n\r\ncartProductsList.addEventListener('click', (e) => {\r\n\tif (e.target.classList.contains('c-item__delete')) {\r\n\t\tdeleteProducts(e.target.closest('.cart__item'));\r\n\t}\r\n});\r\n\r\n// Сохранение в localStorage\r\nconst countSum = () => {\r\n\tdocument.querySelectorAll('.c-item').forEach((el) => {\r\n\t\tprice += parseInt(priceWithoutSpaces(el.querySelector('.c-item__price').textContent));\r\n\t})\r\n}\r\nconst initialState = () => {\r\n\tif (localStorage.getItem('products') !== null) {\r\n\t\tcartProductsList.innerHTML = localStorage.getItem('products');\r\n\t\tprintQuantity()\r\n\t\tcountSum();\r\n\t\tprintFullPrice();\r\n\t\tdocument.querySelectorAll('.c-item').forEach((el) => {\r\n\t\t\tlet id = el.dataset.id;\r\n\t\t\tif (document.querySelector(`.product__item[data-id=\"${id}\"]`)) {\r\n\t\t\t\tconsole.log('Товары загрузились с localStarage. Кнопка добавления была отключена, так как товар уже в корзине!')\r\n\t\t\t\tdocument.querySelector(`.product__item[data-id=\"${id}\"]`).querySelector('.product__btn').disabled = true;\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n}\r\ninitialState();\r\n\r\nconst updateStorage = () => {\r\n\tlet html = cartProductsList.innerHTML;\r\n\thtml = html.trim();\r\n\tif (html.length) {\r\n\t\tlocalStorage.setItem('products', html);\r\n\t} else {\r\n\t\tlocalStorage.removeItem('products');\r\n\t}\r\n}\r\n\r\n\r\n// -- //;\n// Burger\nconst navBurger = document.querySelector('.nav__burger');\nconst navMenu = document.querySelector('.nav__menu');\nconst body = document.querySelector('body');\nconst navCart = document.querySelector('.nav__cart-btn');\nconst menuClose = document.querySelector('.menu__close-field')\nconst mediaQuery = window.matchMedia('(max-width: 991px)')\n\nfunction burgerToggle() {\n\tnavBurger.classList.toggle('active');\n\tsetTimeout(() => {\n\t\tnavMenu.classList.toggle('active');\n\t}, 10)\n\tnavCart.classList.toggle('active');\n\tif (!mediaQuery.matches) {\n\t\tbody.classList.remove('lock')\n\t}\n\tif (mediaQuery.matches) {\n\t\tbody.classList.toggle('lock')\n\t}\n\n}\n\nnavBurger.addEventListener('click', () => {\n\tburgerToggle()\n})\nmenuClose.addEventListener('click', () => {\n\tburgerToggle()\n})\n\n// Cart \nconst cartCloseFieldBtn = document.querySelector('.cart__close-field')\nconst cartContent = document.querySelector('.cart');\nfunction cartOpen() {\n\tif (navBurger.classList.contains('active')) {\n\t\tsetTimeout(() => {\n\t\t\tcartContent.classList.toggle('active');\n\t\t}, 10)\n\t} else {\n\t\tif (!mediaQuery.matches) {\n\t\t\tbody.classList.remove('lock')\n\t\t\tsetTimeout(() => {\n\t\t\t\tnavCart.classList.toggle('active');\n\t\t\t\tcartContent.classList.toggle('active');\n\t\t\t}, 10)\n\t\t} else if (mediaQuery.matches) {\n\t\t\tsetTimeout(() => {\n\t\t\t\tnavCart.classList.toggle('active');\n\t\t\t\tcartContent.classList.toggle('active');\n\t\t\t}, 10)\n\t\t\tbody.classList.toggle('lock')\n\t\t}\n\t}\n\tif (navBurger.disabled == true) {\n\t\tnavBurger.disabled = false;\n\t} else {\n\t\tnavBurger.disabled = true;\n\t}\n}\n\nnavCart.addEventListener('click', () => {\n\tcartOpen()\n})\ncartCloseFieldBtn.addEventListener('click', () => {\n\tcartOpen()\n})\n\n// -- //\n\n// Scroll to link \nconst isiPhone = (navigator.userAgent.match(/iPhone/i) != null);\nconst isiPad = (navigator.userAgent.match(/iPad/i) != null);\nconst isiPod = (navigator.userAgent.match(/iPod/i) != null);\n\nif (isiPhone || isiPad || isiPod) {\n\tlet linkNav = document.querySelectorAll('[href^=\"#\"]'), //выбираем все ссылки к якорю на странице\n\t\tV = 0.2;  // скорость, может иметь дробное значение через точку (чем меньше значение - тем больше скорость)\n\tfor (let i = 0; i < linkNav.length; i++) {\n\t\tlinkNav[i].addEventListener('click', function (e) { //по клику на ссылку\n\t\t\te.preventDefault(); //отменяем стандартное поведение\n\t\t\tlet w = window.pageYOffset,  // производим прокрутка прокрутка\n\t\t\t\thash = this.href.replace(/[^#]*(.*)/, '$1');  // к id элемента, к которому нужно перейти\n\t\t\tt = document.querySelector(hash).getBoundingClientRect().top,  // отступ от окна браузера до id\n\t\t\t\tstart = null;\n\t\t\trequestAnimationFrame(step);  // подробнее про функцию анимации [developer.mozilla.org]\n\t\t\tfunction step(time) {\n\t\t\t\tif (start === null) start = time;\n\t\t\t\tlet progress = time - start,\n\t\t\t\t\tr = (t < 0 ? Math.max(w - progress / V, w + t) : Math.min(w + progress / V, w + t));\n\t\t\t\twindow.scrollTo(0, r);\n\t\t\t\tif (r != w + t) {\n\t\t\t\t\trequestAnimationFrame(step)\n\t\t\t\t} else {\n\t\t\t\t\tlocation.hash = hash  // URL с хэшем\n\t\t\t\t}\n\t\t\t}\n\t\t}, false);\n\t}\n}\n// -- //\n\n// Active navigation on scroll\nconst nav = document.querySelector(\".nav\");\nconst menuWrapper = document.querySelector('.menu__wrapper')\nconst cartWrapper = document.querySelector('.cart__wrapper')\n\nlet prevScrollpos = window.pageYOffset;\n\nfunction navOpen() {\n\tif (prevScrollpos != 0) {\n\t\tnav.classList.add('nav--active');\n\t\tmenuWrapper.classList.add('menu__wrapper--onscroll')\n\t\tcartWrapper.classList.add('cart__wrapper--onscroll')\n\n\t} else {\n\t\tnav.classList.remove('nav--active');\n\t\tmenuWrapper.classList.remove('menu__wrapper--onscroll');\n\t\tcartWrapper.classList.remove('cart__wrapper--onscroll')\n\t}\n}\n\nfunction navScroll() {\n\twindow.onscroll = function () {\n\t\tlet currentScrollPos = window.pageYOffset;\n\t\tif (prevScrollpos < currentScrollPos) {\n\t\t\tnav.classList.add('nav--active');\n\t\t\tmenuWrapper.classList.add('menu__wrapper--onscroll')\n\t\t\tcartWrapper.classList.add('cart__wrapper--onscroll')\n\t\t} else if (prevScrollpos = currentScrollPos) {\n\t\t\tnav.classList.add('nav--active');\n\t\t\tmenuWrapper.classList.add('menu__wrapper--onscroll')\n\t\t\tcartWrapper.classList.add('cart__wrapper--onscroll')\n\t\t} else {\n\t\t\tnav.classList.remove('nav--active');\n\t\t\tmenuWrapper.classList.remove('menu__wrapper--onscroll');\n\t\t\tcartWrapper.classList.remove('cart__wrapper--onscroll')\n\t\t}\n\t\tprevScrollpos = currentScrollPos;\n\t}\n}\nnavOpen()\nnavScroll()\n// -- //\n\n\n// Accordion\ndocument.querySelectorAll('.acordion-triger').forEach((item) =>\n\titem.addEventListener('click', () => {\n\t\titem.parentNode.classList.toggle('acordion--active');\n\t})\n)\n// -- //\n"]}